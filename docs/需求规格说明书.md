# HabitBloom 需求规格说明书

## 1. 项目概述

### 1.1 应用简介
HabitBloom 是一款基于可视化花园的个人习惯养成应用。用户通过每日完成习惯来"浇灌"自己的习惯花园，每个习惯对应一种植物，完成情况直接影响植物的生长状态，形成正向的视觉激励。

### 1.2 核心特色
- 🌱 **可视化激励系统**：习惯进度以植物生长状态呈现
- 📊 **本地数据处理**：所有数据存储在设备本地，无需网络
- 🎯 **智能提醒系统**：基于用户行为的自适应提醒
- 🌈 **个性化花园**：可自定义植物种类、花园主题
- 📈 **数据统计**：本地生成习惯完成统计图表

---

## 2. 功能需求

### 2.1 用户管理模块 (FR-001)

#### 2.1.1 本地用户档案
| 需求ID | 功能描述 | 优先级 |
|--------|----------|--------|
| FR-001-01 | 创建本地用户资料（昵称、头像颜色） | P0 |
| FR-001-02 | 设置每日目标时段 | P1 |
| FR-001-03 | 查看个人成就徽章 | P1 |

#### 2.1.2 数据备份与恢复
| 需求ID | 功能描述 | 优先级 |
|--------|----------|--------|
| FR-001-04 | 导出本地数据为JSON文件 | P1 |
| FR-001-05 | 从JSON文件导入恢复数据 | P1 |

### 2.2 习惯管理模块 (FR-002)

#### 2.2.1 习惯创建与编辑
| 需求ID | 功能描述 | 优先级 |
|--------|----------|--------|
| FR-002-01 | 添加新习惯（名称、图标、目标频率） | P0 |
| FR-002-02 | 选择对应的植物类型 | P0 |
| FR-002-03 | 设置习惯难度等级 | P1 |
| FR-002-04 | 编辑/删除已有习惯 | P0 |

#### 2.2.2 习惯分类
| 需求ID | 功能描述 | 优先级 |
|--------|----------|--------|
| FR-002-05 | 按类别分组（健康、学习、工作、生活） | P1 |
| FR-002-06 | 自定义标签系统 | P2 |

### 2.3 习惯追踪模块 (FR-003)

#### 2.3.1 每日打卡
| 需求ID | 功能描述 | 优先级 |
|--------|----------|--------|
| FR-003-01 | 一键打卡完成习惯 | P0 |
| FR-003-02 | 记录完成时间点 | P1 |
| FR-003-03 | 添加简短日记（可选） | P2 |

#### 2.3.2 进度可视化
| 需求ID | 功能描述 | 优先级 |
|--------|----------|--------|
| FR-003-04 | 植物生长动画（种子→幼苗→开花） | P0 |
| FR-003-05 | 进度条显示连续天数 | P0 |
| FR-003-06 | 里程碑解锁特效 | P1 |

### 2.4 花园系统 (FR-004)

#### 2.4.1 花园视图
| 需求ID | 功能描述 | 优先级 |
|--------|----------|--------|
| FR-004-01 | 主花园展示所有习惯植物 | P0 |
| FR-004-02 | 植物状态实时更新 | P0 |
| FR-004-03 | 季节性主题切换 | P2 |

#### 2.4.2 植物系统
| 需求ID | 功能描述 | 优先级 |
|--------|----------|--------|
| FR-004-04 | 多种植物类型（对应不同习惯） | P1 |
| FR-004-05 | 生长阶段：种子→发芽→幼苗→开花→结果 | P0 |
| FR-004-06 | 健康状态：缺水→健康→茂盛 | P1 |

### 2.5 统计与分析 (FR-005)

#### 2.5.1 数据统计
| 需求ID | 功能描述 | 优先级 |
|--------|----------|--------|
| FR-005-01 | 月度完成率统计 | P1 |
| FR-005-02 | 连续打卡天数排行榜 | P1 |
| FR-005-03 | 习惯坚持趋势图 | P2 |

#### 2.5.2 成就系统
| 需求ID | 功能描述 | 优先级 |
|--------|----------|--------|
| FR-005-04 | 里程碑成就（7天、21天、66天等） | P1 |
| FR-005-05 | 特殊成就解锁 | P2 |
| FR-005-06 | 成就画廊展示 | P2 |

### 2.6 提醒与通知 (FR-006)

#### 2.6.1 智能提醒
| 需求ID | 功能描述 | 优先级 |
|--------|----------|--------|
| FR-006-01 | 可设置多个每日提醒 | P1 |
| FR-006-02 | 自适应提醒时间（基于历史完成时间） | P2 |
| FR-006-03 | 免打扰时段设置 | P1 |

---

## 3. 非功能需求

### 3.1 性能需求 (NFR-001)
| 需求ID | 描述 | 指标 |
|--------|------|------|
| NFR-001-01 | 应用启动时间 | < 2秒 |
| NFR-001-02 | 页面切换响应时间 | < 0.3秒 |
| NFR-001-03 | 本地数据操作响应时间 | < 0.5秒 |

### 3.2 可用性需求 (NFR-002)
| 需求ID | 描述 |
|--------|------|
| NFR-002-01 | 新手引导流程 |
| NFR-002-02 | 简洁直观的操作流程 |
| NFR-002-03 | 无障碍设计支持 |

### 3.3 可靠性需求 (NFR-003)
| 需求ID | 描述 | 指标 |
|--------|------|------|
| NFR-003-01 | 每日自动本地备份 | 每日一次 |
| NFR-003-02 | 数据异常恢复机制 | 支持 |
| NFR-003-03 | 崩溃率 | < 0.1% |

### 3.4 兼容性需求 (NFR-004)
| 需求ID | 描述 |
|--------|------|
| NFR-004-01 | Android 8.0+ (API 26+) |
| NFR-004-02 | 支持深色模式 |
| NFR-004-03 | 多种屏幕尺寸适配 |

---

## 4. 用例图

![PlantUML diagram](D:\Android\androidworkspace\My Application\docs\用例图)

---

## 5. 用例描述

### 5.1 用例：创建习惯 (UC-001)

| 项目 | 描述 |
|------|------|
| **用例名称** | 创建习惯 |
| **参与者** | 用户 |
| **前置条件** | 用户已进入应用 |
| **主要流程** | 1. 用户点击"添加习惯"按钮<br>2. 系统显示习惯创建页面<br>3. 用户输入习惯名称<br>4. 用户选择习惯分类<br>5. 用户选择植物类型<br>6. 用户设置目标频率<br>7. 用户点击保存<br>8. 系统保存习惯并返回花园页面 |
| **后置条件** | 新习惯以种子形态出现在花园中 |
| **异常流程** | 3a. 习惯名称为空，提示用户输入 |

### 5.2 用例：每日打卡 (UC-002)

| 项目 | 描述 |
|------|------|
| **用例名称** | 每日打卡 |
| **参与者** | 用户 |
| **前置条件** | 用户已创建至少一个习惯 |
| **主要流程** | 1. 用户在花园页面点击目标习惯植物<br>2. 系统显示习惯详情页<br>3. 用户点击"打卡"按钮<br>4. 系统记录打卡时间<br>5. 系统更新连续天数<br>6. 系统播放植物生长动画<br>7. 如达到里程碑，触发成就解锁 |
| **后置条件** | 习惯完成状态更新，植物生长 |
| **异常流程** | 4a. 今日已打卡，提示用户 |

### 5.3 用例：查看统计 (UC-003)

| 项目 | 描述 |
|------|------|
| **用例名称** | 查看统计 |
| **参与者** | 用户 |
| **前置条件** | 用户有打卡记录 |
| **主要流程** | 1. 用户点击底部导航"统计"<br>2. 系统显示统计概览页面<br>3. 用户可切换查看月度/周度统计<br>4. 用户可查看各习惯完成率<br>5. 用户可查看连续打卡排行 |
| **后置条件** | 无 |

---

## 6. 数据字典

### 6.1 习惯分类
| 代码 | 名称 | 描述 |
|------|------|------|
| health | 健康 | 运动、饮食、睡眠相关 |
| study | 学习 | 阅读、学习、技能提升 |
| work | 工作 | 工作效率、职业发展 |
| life | 生活 | 生活习惯、兴趣爱好 |

### 6.2 植物类型
| 代码 | 名称 | 适用场景 |
|------|------|----------|
| flower | 花朵 | 通用习惯 |
| tree | 树木 | 长期习惯 |
| cactus | 仙人掌 | 挑战性习惯 |
| herb | 草本 | 日常小习惯 |

### 6.3 生长阶段
| 阶段 | 名称 | 所需天数 |
|------|------|----------|
| 1 | 种子 | 0 |
| 2 | 发芽 | 3 |
| 3 | 幼苗 | 7 |
| 4 | 开花 | 21 |
| 5 | 结果 | 66 |

---

## 7. 版本历史

| 版本 | 日期 | 作者 | 描述 |
|------|------|------|------|
| 1.0 | 2026-01-13 | HabitBloom Team | 初始版本 |
