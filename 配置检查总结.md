# âœ… buildozer.spec é…ç½®æ£€æŸ¥æ€»ç»“

## ğŸ¯ å·²å®Œæˆçš„ä¼˜åŒ–

æˆ‘å·²ç»ä¸ºæ‚¨ä¼˜åŒ–äº† `buildozer.spec` é…ç½®ï¼Œç¡®ä¿æ‰“åŒ…æˆåŠŸï¼š

### âœ… 1. ä¾èµ–é…ç½®ä¼˜åŒ–
```ini
# ä¹‹å‰ï¼šå¯èƒ½ç¼ºå°‘ pyjniusï¼ˆAndroid å¿…éœ€ï¼‰
requirements = python3,kivy==2.3.1,pillow

# ç°åœ¨ï¼šæ·»åŠ äº† pyjnius
requirements = python3,kivy==2.3.1,pillow,pyjnius
```

### âœ… 2. SDK è®¸å¯è¯é…ç½®
```ini
# å·²æ·»åŠ è‡ªåŠ¨æ¥å— SDK è®¸å¯è¯
android.accept_sdk_license = True
```

### âœ… 3. GitHub Actions å·¥ä½œæµå¢å¼º
- âœ… æ·»åŠ äº†é¡¹ç›®ç»“æ„æ£€æŸ¥æ­¥éª¤
- âœ… æ·»åŠ äº† buildozer.spec éªŒè¯æ­¥éª¤
- âœ… æ”¹è¿›äº†é”™è¯¯æ—¥å¿—è¾“å‡º
- âœ… æ·»åŠ äº†æ„å»ºæ—¥å¿—ä¿å­˜

---

## ğŸ“‹ å½“å‰é…ç½®çŠ¶æ€

### âœ… buildozer.spec å…³é”®é…ç½®

| é…ç½®é¡¹ | çŠ¶æ€ | å€¼ |
|--------|------|-----|
| ä¸»å…¥å£æ–‡ä»¶ | âœ… | `source.main = main_kivy.py` |
| ä¾èµ–é…ç½® | âœ… | `requirements = python3,kivy==2.3.1,pillow,pyjnius` |
| Android API | âœ… | `android.api = 33` |
| æœ€ä½ API | âœ… | `android.minapi = 21` |
| SDK è®¸å¯è¯ | âœ… | `android.accept_sdk_license = True` |
| æ¶æ„æ”¯æŒ | âœ… | `arm64-v8a, armeabi-v7a` |

### âœ… é¡¹ç›®æ–‡ä»¶æ£€æŸ¥

| æ–‡ä»¶/ç›®å½• | çŠ¶æ€ | è¯´æ˜ |
|-----------|------|------|
| `main_kivy.py` | âœ… | Kivy ä¸»å…¥å£æ–‡ä»¶ |
| `buildozer.spec` | âœ… | é…ç½®æ–‡ä»¶ |
| `src/` | âœ… | æºä»£ç ç›®å½• |
| `kivy_ui/` | âœ… | Kivy UI ç»„ä»¶ |
| `.github/workflows/build-apk.yml` | âœ… | GitHub Actions å·¥ä½œæµ |

---

## ğŸ” å¦‚ä½•éªŒè¯é…ç½®

### æ–¹æ³• 1ï¼šä½¿ç”¨æ£€æŸ¥è„šæœ¬

```bash
# åœ¨é¡¹ç›®ç›®å½•è¿è¡Œ
python æ£€æŸ¥é…ç½®.py
```

### æ–¹æ³• 2ï¼šæ‰‹åŠ¨æ£€æŸ¥

1. **æ‰“å¼€ `buildozer.spec`**
2. **ç¡®è®¤ä»¥ä¸‹é…ç½®å­˜åœ¨ï¼š**
   - âœ… `source.main = main_kivy.py`
   - âœ… `requirements = python3,kivy==2.3.1,pillow,pyjnius`
   - âœ… `android.accept_sdk_license = True`
   - âœ… `android.api = 33`
   - âœ… `android.minapi = 21`

3. **ç¡®è®¤æ–‡ä»¶å­˜åœ¨ï¼š**
   - âœ… `main_kivy.py` æ–‡ä»¶å­˜åœ¨
   - âœ… `src/` ç›®å½•å­˜åœ¨
   - âœ… `kivy_ui/` ç›®å½•å­˜åœ¨

---

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

### 1. æäº¤æ›´æ–°çš„é…ç½®

```bash
# æ·»åŠ æ›´æ–°çš„æ–‡ä»¶
git add buildozer.spec
git add .github/workflows/build-apk.yml
git add æ£€æŸ¥é…ç½®.py
git add ç¡®ä¿é…ç½®æ­£ç¡®.md

# æäº¤
git commit -m "ä¼˜åŒ– buildozer.spec é…ç½®ï¼Œæ·»åŠ é…ç½®æ£€æŸ¥å·¥å…·"

# æ¨é€åˆ° GitHub
git push
```

### 2. åœ¨ GitHub Actions ä¸­é‡æ–°è¿è¡Œ

1. æ‰“å¼€ GitHub ä»“åº“
2. ç‚¹å‡» "Actions" æ ‡ç­¾
3. é€‰æ‹© "Build HabitBloom APK"
4. ç‚¹å‡» "Run workflow"

### 3. æŸ¥çœ‹æ„å»ºæ—¥å¿—

- å¦‚æœæˆåŠŸï¼šåœ¨ Artifacts ä¸­ä¸‹è½½ APK
- å¦‚æœå¤±è´¥ï¼šæŸ¥çœ‹ "Build APK" æ­¥éª¤çš„è¯¦ç»†æ—¥å¿—

---

## ğŸ› ï¸ å¦‚æœä»ç„¶å¤±è´¥

### æ£€æŸ¥æ¸…å•

- [ ] æ‰€æœ‰æ–‡ä»¶éƒ½å·²ä¸Šä¼ åˆ° GitHub
- [ ] `buildozer.spec` æ ¼å¼æ­£ç¡®ï¼ˆæ— å¤šä½™ç©ºæ ¼ï¼‰
- [ ] `main_kivy.py` æ–‡ä»¶å­˜åœ¨ä¸”å¯å¯¼å…¥
- [ ] `src/` å’Œ `kivy_ui/` ç›®å½•å®Œæ•´
- [ ] GitHub Actions æ—¥å¿—ä¸­çš„å…·ä½“é”™è¯¯ä¿¡æ¯

### å¸¸è§é—®é¢˜

1. **é”™è¯¯ï¼šæ‰¾ä¸åˆ° main_kivy.py**
   - ç¡®ä¿æ–‡ä»¶å·²ä¸Šä¼ 
   - æ£€æŸ¥æ–‡ä»¶åå¤§å°å†™

2. **é”™è¯¯ï¼šrequirements æ ¼å¼é”™è¯¯**
   - ç¡®ä¿æ ¼å¼ï¼š`requirements = python3,kivy==2.3.1,pillow,pyjnius`
   - ä¸è¦æœ‰ç©ºæ ¼ï¼š`requirements = python3, kivy==2.3.1` âŒ

3. **é”™è¯¯ï¼šæ¨¡å—å¯¼å…¥å¤±è´¥**
   - ç¡®ä¿æ‰€æœ‰ Python æ–‡ä»¶éƒ½å·²ä¸Šä¼ 
   - æ£€æŸ¥ `src/` å’Œ `kivy_ui/` ç›®å½•ç»“æ„

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- `ç¡®ä¿é…ç½®æ­£ç¡®.md` - è¯¦ç»†çš„é…ç½®æ£€æŸ¥æŒ‡å—
- `GitHubæ‰“åŒ…æ­¥éª¤.md` - å®Œæ•´çš„æ‰“åŒ…æµç¨‹
- `æ£€æŸ¥é…ç½®.py` - è‡ªåŠ¨é…ç½®æ£€æŸ¥è„šæœ¬

---

## âœ… æ€»ç»“

**å½“å‰é…ç½®çŠ¶æ€ï¼šâœ… å·²ä¼˜åŒ–å¹¶éªŒè¯**

æ‰€æœ‰å…³é”®é…ç½®éƒ½å·²æ­£ç¡®è®¾ç½®ï¼š
- âœ… buildozer.spec é…ç½®å®Œæ•´
- âœ… GitHub Actions å·¥ä½œæµå·²å¢å¼º
- âœ… é…ç½®æ£€æŸ¥å·¥å…·å·²åˆ›å»º
- âœ… æ–‡æ¡£å·²æ›´æ–°

**ç°åœ¨å¯ä»¥ï¼š**
1. æäº¤æ›´æ–°çš„é…ç½®åˆ° GitHub
2. åœ¨ Actions ä¸­é‡æ–°è¿è¡Œæ‰“åŒ…
3. ä½¿ç”¨æ£€æŸ¥è„šæœ¬éªŒè¯é…ç½®

ç¥æ‚¨æ‰“åŒ…æˆåŠŸï¼ğŸ‰
