# ğŸŒ± HabitBloom - ä¹ æƒ¯å…»æˆèŠ±å›­

<p align="center">
  <img src="logo.png" alt="HabitBloom Logo" width="50"/>
</p>


<p align="center">
  <strong>è®©ä¹ æƒ¯å¦‚èŠ±èˆ¬ç»½æ”¾</strong>
</p>

<p align="center">
  <a href="#åŠŸèƒ½ç‰¹æ€§">åŠŸèƒ½ç‰¹æ€§</a> â€¢
  <a href="#ç³»ç»Ÿè¦æ±‚">ç³»ç»Ÿè¦æ±‚</a> â€¢
  <a href="#å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</a> â€¢
  <a href="#é¡¹ç›®ç»“æ„">é¡¹ç›®ç»“æ„</a> â€¢
  <a href="#æŠ€æœ¯æ ˆ">æŠ€æœ¯æ ˆ</a>
</p>

---

## ğŸ“± åº”ç”¨ç®€ä»‹

HabitBloom æ˜¯ä¸€æ¬¾åŸºäºå¯è§†åŒ–èŠ±å›­çš„ä¸ªäººä¹ æƒ¯å…»æˆåº”ç”¨ã€‚ç”¨æˆ·é€šè¿‡æ¯æ—¥å®Œæˆä¹ æƒ¯æ¥"æµ‡çŒ"è‡ªå·±çš„ä¹ æƒ¯èŠ±å›­ï¼Œæ¯ä¸ªä¹ æƒ¯å¯¹åº”ä¸€ç§æ¤ç‰©ï¼Œå®Œæˆæƒ…å†µç›´æ¥å½±å“æ¤ç‰©çš„ç”Ÿé•¿çŠ¶æ€ï¼Œå½¢æˆæ­£å‘çš„è§†è§‰æ¿€åŠ±ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸŒ» å¯è§†åŒ–æ¿€åŠ±ç³»ç»Ÿ
- ä¹ æƒ¯è¿›åº¦ä»¥æ¤ç‰©ç”Ÿé•¿çŠ¶æ€å‘ˆç°
- ç§å­ â†’ å‘èŠ½ â†’ å¹¼è‹— â†’ å¼€èŠ± â†’ ç»“æœ
- å®Œæˆæ‰“å¡å³ä¸ºæ¤ç‰©"æµ‡æ°´"

### ğŸ“Š æœ¬åœ°æ•°æ®å­˜å‚¨
- æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨è®¾å¤‡æœ¬åœ°
- æ— éœ€ç½‘ç»œï¼Œä¿æŠ¤éšç§
- æ”¯æŒæ•°æ®å¯¼å‡º/å¯¼å…¥

### ğŸ¯ æ™ºèƒ½ä¹ æƒ¯ç®¡ç†
- è‡ªå®šä¹‰ä¹ æƒ¯åç§°ã€å›¾æ ‡ã€é¢‘ç‡
- å››å¤§åˆ†ç±»ï¼šå¥åº·ã€å­¦ä¹ ã€å·¥ä½œã€ç”Ÿæ´»
- éš¾åº¦ç­‰çº§è®¾ç½®

### ğŸ† æˆå°±ç³»ç»Ÿ
- è¿ç»­æ‰“å¡é‡Œç¨‹ç¢‘ï¼ˆ7å¤©ã€21å¤©ã€66å¤©ï¼‰
- ç´¯è®¡æ‰“å¡æˆå°±
- ç‰¹æ®Šæˆå°±å¾½ç« 

### ğŸ“ˆ æ•°æ®ç»Ÿè®¡
- æœˆåº¦å®Œæˆç‡
- è¿ç»­æ‰“å¡è®°å½•
- ä¹ æƒ¯è¶‹åŠ¿åˆ†æ

### ğŸ”” æé†’ç³»ç»Ÿ
- è‡ªå®šä¹‰æé†’æ—¶é—´
- æ¯æ—¥å®šæ—¶æé†’

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **Android ç‰ˆæœ¬**: 8.0 (API 26) åŠä»¥ä¸Š
- **å­˜å‚¨ç©ºé—´**: çº¦ 20MB
- **æƒé™**: é€šçŸ¥æƒé™ï¼ˆå¯é€‰ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¼–è¯‘æ„å»º

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/pznger/HabitBloom.git
cd HabitBloom
```

2. **ä½¿ç”¨ Android Studio æ‰“å¼€é¡¹ç›®**

3. **åŒæ­¥ Gradle**
```bash
./gradlew build
```

4. **æ„å»º APK**
```bash
# Debug ç‰ˆæœ¬
./gradlew assembleDebug

# Release ç‰ˆæœ¬
./gradlew assembleRelease
```

APK æ–‡ä»¶ä½ç½®ï¼š`app/build/outputs/apk/`

### å®‰è£…è¿è¡Œ

1. è¿æ¥ Android è®¾å¤‡æˆ–å¯åŠ¨æ¨¡æ‹Ÿå™¨
2. è¿è¡Œï¼š
```bash
./gradlew installDebug
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
HabitBloom/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ src/main/
â”‚   â”‚   â”œâ”€â”€ java/com/habitbloom/
â”‚   â”‚   â”‚   â”œâ”€â”€ HabitBloomApplication.java    # Application ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ data/                          # æ•°æ®å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ database/                  # Room æ•°æ®åº“
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AppDatabase.java       # æ•°æ®åº“ç±»
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dao/                   # æ•°æ®è®¿é—®å¯¹è±¡
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserDao.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HabitDao.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HabitRecordDao.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ReminderDao.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AchievementDao.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ GardenStateDao.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ entity/                # å®ä½“ç±»
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ User.java
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ Habit.java
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ HabitRecord.java
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ Reminder.java
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ Achievement.java
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ GardenState.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ repository/                # æ•°æ®ä»“åº“
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ HabitRepository.java
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ AchievementRepository.java
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ UserRepository.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/                            # è¡¨ç°å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ splash/                    # å¯åŠ¨é¡µ
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SplashActivity.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ main/                      # ä¸»ç•Œé¢
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MainActivity.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ garden/                    # èŠ±å›­æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GardenFragment.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PlantCardAdapter.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ habit/                     # ä¹ æƒ¯æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HabitListFragment.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HabitDetailActivity.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CreateHabitActivity.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ HabitListAdapter.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ stats/                     # ç»Ÿè®¡æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ StatsFragment.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AchievementAdapter.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ settings/                  # è®¾ç½®æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SettingsFragment.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ viewmodel/                 # ViewModel
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ HabitViewModel.java
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ StatsViewModel.java
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ UserViewModel.java
â”‚   â”‚   â”‚   â”œâ”€â”€ notification/                  # é€šçŸ¥æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ReminderReceiver.java
â”‚   â”‚   â”‚   â””â”€â”€ utils/                         # å·¥å…·ç±»
â”‚   â”‚   â”‚       â”œâ”€â”€ DateUtils.java
â”‚   â”‚   â”‚       â””â”€â”€ Constants.java
â”‚   â”‚   â””â”€â”€ res/                               # èµ„æºæ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ layout/                        # å¸ƒå±€æ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ drawable/                      # å›¾å½¢èµ„æº
â”‚   â”‚       â”œâ”€â”€ values/                        # å€¼èµ„æº
â”‚   â”‚       â””â”€â”€ menu/                          # èœå•èµ„æº
â”‚   â””â”€â”€ build.gradle.kts                       # æ¨¡å—æ„å»ºé…ç½®
â”œâ”€â”€ docs/                                      # æ–‡æ¡£
â”‚   â”œâ”€â”€ éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦.md
â”‚   â””â”€â”€ ç³»ç»Ÿè®¾è®¡è¯´æ˜ä¹¦.md
â”œâ”€â”€ gradle/
â”‚   â””â”€â”€ libs.versions.toml                     # ä¾èµ–ç‰ˆæœ¬ç®¡ç†
â”œâ”€â”€ build.gradle.kts                           # é¡¹ç›®æ„å»ºé…ç½®
â”œâ”€â”€ settings.gradle.kts                        # é¡¹ç›®è®¾ç½®
â””â”€â”€ README.md                                  # é¡¹ç›®è¯´æ˜
```

## ğŸ›  æŠ€æœ¯æ ˆ

| ç±»åˆ« | æŠ€æœ¯ | è¯´æ˜ |
|------|------|------|
| **å¼€å‘è¯­è¨€** | Java | Android åŸç”Ÿå¼€å‘ |
| **æœ€ä½ç‰ˆæœ¬** | Android 8.0 (API 26) | å…¼å®¹ä¸»æµè®¾å¤‡ |
| **æ¶æ„æ¨¡å¼** | MVVM | Model-View-ViewModel |
| **æ•°æ®åº“** | Room | Android å®˜æ–¹ ORM |
| **å¼‚æ­¥å¤„ç†** | LiveData + Executor | å“åº”å¼æ•°æ® |
| **UI ç»„ä»¶** | Material Design 3 | ç°ä»£åŒ–è®¾è®¡ |
| **æ„å»ºå·¥å…·** | Gradle Kotlin DSL | æ„å»ºè‡ªåŠ¨åŒ– |

## ğŸ“¦ ä¾èµ–åº“

```toml
# æ ¸å¿ƒä¾èµ–
androidx.appcompat = "1.6.1"
com.google.android.material = "1.10.0"
androidx.constraintlayout = "2.1.4"

# Room æ•°æ®åº“
androidx.room = "2.6.1"

# Lifecycle ç»„ä»¶
androidx.lifecycle = "2.6.2"

# Navigation ç»„ä»¶
androidx.navigation = "2.7.5"

# WorkManager
androidx.work = "2.9.0"

# Gson
com.google.code.gson = "2.10.1"
```

## ğŸ¨ UI/UX è®¾è®¡

### è‰²å½©æ–¹æ¡ˆ
- **ä¸»è‰²è°ƒ**: #4CAF50 (ç»¿è‰² - ä»£è¡¨ç”Ÿé•¿)
- **å¼ºè°ƒè‰²**: #FF9800 (æ©™è‰² - é«˜äº®æç¤º)
- **èƒŒæ™¯è‰²**: #F5F5F5 (æµ…ç° - èˆ’é€‚é˜…è¯»)

### æ¤ç‰©ç”Ÿé•¿é˜¶æ®µ
| é˜¶æ®µ | æ‰€éœ€å¤©æ•° | å›¾æ ‡ |
|------|----------|------|
| ç§å­ | 0å¤© | ğŸ«˜ |
| å‘èŠ½ | 3å¤© | ğŸŒ± |
| å¹¼è‹— | 7å¤© | ğŸŒ¿ |
| å¼€èŠ± | 21å¤© | ğŸŒ¸ |
| ç»“æœ | 66å¤© | ğŸ’ |

## ğŸ“„ æ–‡æ¡£

- [éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦](docs/éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦.md)
- [ç³»ç»Ÿè®¾è®¡è¯´æ˜ä¹¦](docs/ç³»ç»Ÿè®¾è®¡è¯´æ˜ä¹¦.md)

## ğŸ” éšç§è¯´æ˜

- æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°è®¾å¤‡
- ä¸æ”¶é›†ä»»ä½•ç”¨æˆ·ä¸ªäººä¿¡æ¯
- ä¸éœ€è¦ç½‘ç»œè¿æ¥

## ğŸ“ ç‰ˆæœ¬å†å²

### v1.0.0 (2026-01-13)
- ğŸ‰ é¦–æ¬¡å‘å¸ƒ
- âœ… ä¹ æƒ¯åˆ›å»ºä¸ç®¡ç†
- âœ… æ¯æ—¥æ‰“å¡åŠŸèƒ½
- âœ… èŠ±å›­å¯è§†åŒ–ç³»ç»Ÿ
- âœ… ç»Ÿè®¡ä¸æˆå°±ç³»ç»Ÿ
- âœ… æ·±è‰²æ¨¡å¼æ”¯æŒ

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

<p align="center">
  <strong>ğŸŒ± è®©å¥½ä¹ æƒ¯å¦‚èŠ±èˆ¬ç»½æ”¾ ğŸŒ¸</strong>
</p>












# é™„ä»¶ï¼šHabitBloom ç³»ç»Ÿè®¾è®¡è¯´æ˜ä¹¦

## 1. ç³»ç»Ÿæ¶æ„è®¾è®¡

### 1.1 æ€»ä½“æ¶æ„å›¾

![PlantUML diagram](D:\Android\androidworkspace\My Application\docs\æ€»ä½“æ¶æ„å›¾)

### 1.2 æ¶æ„è¯´æ˜

#### 1.2.1 æ¶æ„æ¨¡å¼ï¼šMVVM (Model-View-ViewModel)

é‡‡ç”¨ Android æ¨èçš„ MVVM æ¶æ„æ¨¡å¼ï¼Œå®ç°å…³æ³¨ç‚¹åˆ†ç¦»ï¼š

| å±‚çº§          | èŒè´£                   | ç»„ä»¶                           |
| ------------- | ---------------------- | ------------------------------ |
| **View**      | è´Ÿè´£UIå±•ç¤ºå’Œç”¨æˆ·äº¤äº’   | Activity, Fragment, XML Layout |
| **ViewModel** | è´Ÿè´£UIé€»è¾‘å’ŒçŠ¶æ€ç®¡ç†   | ViewModel + LiveData           |
| **Model**     | è´Ÿè´£æ•°æ®å­˜å‚¨å’Œä¸šåŠ¡é€»è¾‘ | Repository, Room, Entity       |

#### 1.2.2 åˆ†å±‚è®¾è®¡

**è¡¨ç°å±‚ (Presentation Layer)**

- åŒ…å«æ‰€æœ‰ Activity å’Œ Fragment
- é€šè¿‡ DataBinding å®ç°è§†å›¾ç»‘å®š
- è§‚å¯Ÿ ViewModel ä¸­çš„ LiveData æ›´æ–°UI

**ViewModelå±‚**

- æŒæœ‰ LiveData çŠ¶æ€æ•°æ®
- å¤„ç†ç”¨æˆ·äº¤äº’äº‹ä»¶
- è°ƒç”¨ Repository è¿›è¡Œæ•°æ®æ“ä½œ
- ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥ï¼Œé¿å…å†…å­˜æ³„æ¼

**æ•°æ®ä»“åº“å±‚ (Repository Layer)**

- ç»Ÿä¸€æ•°æ®è®¿é—®æ¥å£
- åè°ƒæœ¬åœ°æ•°æ®æº
- å¤„ç†æ•°æ®è½¬æ¢å’Œä¸šåŠ¡é€»è¾‘

**æ•°æ®å±‚ (Data Layer)**

- Room æ•°æ®åº“æŒä¹…åŒ–å­˜å‚¨
- SharedPreferences é…ç½®å­˜å‚¨
- æ–‡ä»¶ç³»ç»Ÿç”¨äºæ•°æ®å¯¼å‡º/å¯¼å…¥

### 1.3 æŠ€æœ¯é€‰å‹

| ç±»åˆ«     | æŠ€æœ¯æ–¹æ¡ˆ                   | è¯´æ˜             |
| -------- | -------------------------- | ---------------- |
| å¼€å‘è¯­è¨€ | Java                       | Android åŸç”Ÿå¼€å‘ |
| æœ€ä½ç‰ˆæœ¬ | Android 8.0 (API 26)       | å…¼å®¹æ€§è€ƒè™‘       |
| æ•°æ®åº“   | Room                       | Android å®˜æ–¹ ORM |
| å¼‚æ­¥å¤„ç† | LiveData + Executor        | å“åº”å¼æ•°æ®       |
| UI ç»„ä»¶  | Material Design 3          | ç°ä»£åŒ–è®¾è®¡       |
| å¯¼èˆª     | Navigation Component       | ç»Ÿä¸€å¯¼èˆªç®¡ç†     |
| é€šçŸ¥     | WorkManager + AlarmManager | å®šæ—¶æé†’         |

---

## 2. UI/UX è®¾è®¡

### 2.1 é¡µé¢å¯¼èˆªç»“æ„

![PlantUML diagram](docs\å¯¼èˆªç»“æ„)

### 2.2 é¡µé¢åŸå‹è®¾è®¡

#### 2.2.1 å¯åŠ¨é¡µ (SplashActivity)

<img src="docs\å¯åŠ¨é¡µ" alt="845690910f4cb18cb7f12f09973022c0" style="zoom:33%;" />

#### 2.2.2 ä¸»èŠ±å›­é¡µé¢ (GardenFragment)

<img src="docs\ä¸»èŠ±å›­" alt="970c1608d9ebdf9126238e8a3c21e8ba" style="zoom:33%;" />

#### 2.2.3 ä¹ æƒ¯è¯¦æƒ…é¡µ (HabitDetailActivity)

<img src="docs\ä¹ æƒ¯è¯¦æƒ…" alt="1ddd0e6da01e2d163d0b41236a043692" style="zoom: 33%;" />

#### 2.2.4 åˆ›å»ºä¹ æƒ¯é¡µé¢ (CreateHabitActivity)

<img src="docs\åˆ›å»ºä¹ æƒ¯" alt="fdefeae958c8d940dcc98fc68ebdb9b0_720" style="zoom: 25%;" />

#### 2.2.5 ç»Ÿè®¡é¡µé¢ (StatsFragment)

<img src="docs\ç»Ÿè®¡" alt="c3cb507e4f1ed02bd8a856d9cba1e8ce" style="zoom:33%;" />

#### 2.2.6 è®¾ç½®é¡µé¢ (SettingsFragment)

<img src="docs\è®¾ç½®" alt="81da398d4a92f75759a7cc7d2c7ba4d0" style="zoom:33%;" />

### 2.3 è®¾è®¡è§„èŒƒ

#### 2.3.1 è‰²å½©æ–¹æ¡ˆ

| ç”¨é€”     | é¢œè‰²ä»£ç  | è¯´æ˜           |
| -------- | -------- | -------------- |
| ä¸»è‰²è°ƒ   | #4CAF50  | ç»¿è‰²ï¼Œä»£è¡¨ç”Ÿé•¿ |
| ä¸»è‰²è°ƒæ·± | #388E3C  | æ·±ç»¿è‰²         |
| ä¸»è‰²è°ƒæµ… | #C8E6C9  | æµ…ç»¿è‰²èƒŒæ™¯     |
| å¼ºè°ƒè‰²   | #FF9800  | æ©™è‰²ï¼Œç”¨äºé«˜äº® |
| èƒŒæ™¯è‰²   | #F5F5F5  | æµ…ç°èƒŒæ™¯       |
| å¡ç‰‡è‰²   | #FFFFFF  | ç™½è‰²å¡ç‰‡       |
| æ–‡å­—ä¸»è‰² | #212121  | æ·±ç°æ–‡å­—       |
| æ–‡å­—æ¬¡è‰² | #757575  | ç°è‰²æ–‡å­—       |
| æˆåŠŸè‰²   | #4CAF50  | ç»¿è‰²           |
| è­¦å‘Šè‰²   | #FFC107  | é»„è‰²           |
| é”™è¯¯è‰²   | #F44336  | çº¢è‰²           |

#### 2.3.2 å­—ä½“è§„èŒƒ

| ç”¨é€”     | å­—å· | å­—é‡    |
| -------- | ---- | ------- |
| å¤§æ ‡é¢˜   | 24sp | Bold    |
| æ ‡é¢˜     | 20sp | Medium  |
| å­æ ‡é¢˜   | 16sp | Medium  |
| æ­£æ–‡     | 14sp | Regular |
| è¾…åŠ©æ–‡å­— | 12sp | Regular |
| æŒ‰é’®æ–‡å­— | 14sp | Medium  |

#### 2.3.3 é—´è·è§„èŒƒ

| ç”¨é€”     | å°ºå¯¸ |
| -------- | ---- |
| é¡µé¢è¾¹è· | 16dp |
| å¡ç‰‡è¾¹è· | 12dp |
| ç»„ä»¶é—´è· | 8dp  |
| å°é—´è·   | 4dp  |
| åœ†è§’     | 12dp |

#### 2.3.4 åŠ¨ç”»è§„èŒƒ

| åŠ¨ç”»ç±»å‹ | æ—¶é•¿  | æ›²çº¿        |
| -------- | ----- | ----------- |
| é¡µé¢è¿‡æ¸¡ | 300ms | ease-in-out |
| æ¤ç‰©ç”Ÿé•¿ | 500ms | ease-out    |
| æµ‡æ°´æ•ˆæœ | 200ms | ease-in     |
| æŒ‰é’®åé¦ˆ | 100ms | linear      |
| æˆå°±è§£é” | 800ms | bounce      |

---

## 3. æ•°æ®åº“è®¾è®¡

### 3.1 ERå›¾

![exported_image](docs\er)

### 3.2 è¡¨ç»“æ„è®¾è®¡

#### 3.2.1 users è¡¨ - ç”¨æˆ·ä¿¡æ¯è¡¨

```sql
CREATE TABLE users (
    user_id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT NOT NULL DEFAULT 'ç”¨æˆ·',
    avatar_color TEXT DEFAULT '#4CAF50',
    daily_goal_time TEXT DEFAULT '08:00',
    created_at INTEGER NOT NULL DEFAULT (strftime('%s', 'now') * 1000),
    last_login INTEGER
);
```

| å­—æ®µ            | ç±»å‹    | çº¦æŸ     | è¯´æ˜         |
| --------------- | ------- | -------- | ------------ |
| user_id         | INTEGER | PK, AUTO | ç”¨æˆ·å”¯ä¸€æ ‡è¯† |
| username        | TEXT    | NOT NULL | ç”¨æˆ·æ˜µç§°     |
| avatar_color    | TEXT    | DEFAULT  | å¤´åƒé¢œè‰²     |
| daily_goal_time | TEXT    | DEFAULT  | æ¯æ—¥ç›®æ ‡æ—¶æ®µ |
| created_at      | INTEGER | NOT NULL | åˆ›å»ºæ—¶é—´æˆ³   |
| last_login      | INTEGER | NULL     | æœ€åç™»å½•æ—¶é—´ |

#### 3.2.2 habits è¡¨ - ä¹ æƒ¯ä¿¡æ¯è¡¨

```sql
CREATE TABLE habits (
    habit_id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL DEFAULT 1,
    name TEXT NOT NULL,
    category TEXT CHECK(category IN ('health', 'study', 'work', 'life')) DEFAULT 'life',
    icon TEXT DEFAULT 'ğŸŒ±',
    plant_type TEXT CHECK(plant_type IN ('flower', 'tree', 'cactus', 'herb')) DEFAULT 'flower',
    target_frequency INTEGER DEFAULT 7,
    current_streak INTEGER DEFAULT 0,
    longest_streak INTEGER DEFAULT 0,
    total_completed INTEGER DEFAULT 0,
    difficulty INTEGER CHECK(difficulty BETWEEN 1 AND 5) DEFAULT 3,
    is_active INTEGER DEFAULT 1,
    created_at INTEGER NOT NULL DEFAULT (strftime('%s', 'now') * 1000),
    FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE CASCADE
);

CREATE INDEX idx_habits_user_id ON habits(user_id);
CREATE INDEX idx_habits_category ON habits(category);
```

| å­—æ®µ             | ç±»å‹    | çº¦æŸ         | è¯´æ˜                         |
| ---------------- | ------- | ------------ | ---------------------------- |
| habit_id         | INTEGER | PK, AUTO     | ä¹ æƒ¯å”¯ä¸€æ ‡è¯†                 |
| user_id          | INTEGER | FK, NOT NULL | å…³è”ç”¨æˆ·                     |
| name             | TEXT    | NOT NULL     | ä¹ æƒ¯åç§°                     |
| category         | TEXT    | CHECK        | åˆ†ç±»(health/study/work/life) |
| icon             | TEXT    | DEFAULT      | å›¾æ ‡emoji                    |
| plant_type       | TEXT    | CHECK        | æ¤ç‰©ç±»å‹                     |
| target_frequency | INTEGER | DEFAULT 7    | æ¯å‘¨ç›®æ ‡æ¬¡æ•°                 |
| current_streak   | INTEGER | DEFAULT 0    | å½“å‰è¿ç»­å¤©æ•°                 |
| longest_streak   | INTEGER | DEFAULT 0    | æœ€é•¿è¿ç»­å¤©æ•°                 |
| total_completed  | INTEGER | DEFAULT 0    | æ€»å®Œæˆæ¬¡æ•°                   |
| difficulty       | INTEGER | CHECK 1-5    | éš¾åº¦ç­‰çº§                     |
| is_active        | INTEGER | DEFAULT 1    | æ˜¯å¦å¯ç”¨                     |
| created_at       | INTEGER | NOT NULL     | åˆ›å»ºæ—¶é—´æˆ³                   |

#### 3.2.3 habit_records è¡¨ - æ‰“å¡è®°å½•è¡¨

```sql
CREATE TABLE habit_records (
    record_id INTEGER PRIMARY KEY AUTOINCREMENT,
    habit_id INTEGER NOT NULL,
    record_date TEXT NOT NULL,
    completed INTEGER DEFAULT 0,
    completed_time TEXT,
    notes TEXT,
    plant_growth_stage INTEGER DEFAULT 0,
    UNIQUE(habit_id, record_date),
    FOREIGN KEY (habit_id) REFERENCES habits(habit_id) ON DELETE CASCADE
);

CREATE INDEX idx_records_habit_id ON habit_records(habit_id);
CREATE INDEX idx_records_date ON habit_records(record_date);
```

| å­—æ®µ               | ç±»å‹    | çº¦æŸ         | è¯´æ˜                 |
| ------------------ | ------- | ------------ | -------------------- |
| record_id          | INTEGER | PK, AUTO     | è®°å½•å”¯ä¸€æ ‡è¯†         |
| habit_id           | INTEGER | FK, NOT NULL | å…³è”ä¹ æƒ¯             |
| record_date        | TEXT    | NOT NULL     | è®°å½•æ—¥æœŸ(yyyy-MM-dd) |
| completed          | INTEGER | DEFAULT 0    | æ˜¯å¦å®Œæˆ(0/1)        |
| completed_time     | TEXT    | NULL         | å®Œæˆæ—¶é—´(HH:mm)      |
| notes              | TEXT    | NULL         | å¤‡æ³¨/æ—¥è®°            |
| plant_growth_stage | INTEGER | DEFAULT 0    | æ¤ç‰©ç”Ÿé•¿é˜¶æ®µ         |

#### 3.2.4 reminders è¡¨ - æé†’è®¾ç½®è¡¨

```sql
CREATE TABLE reminders (
    reminder_id INTEGER PRIMARY KEY AUTOINCREMENT,
    habit_id INTEGER NOT NULL,
    reminder_time TEXT NOT NULL,
    days_of_week TEXT DEFAULT '1,2,3,4,5,6,7',
    is_active INTEGER DEFAULT 1,
    FOREIGN KEY (habit_id) REFERENCES habits(habit_id) ON DELETE CASCADE
);

CREATE INDEX idx_reminders_habit_id ON reminders(habit_id);
```

| å­—æ®µ          | ç±»å‹    | çº¦æŸ         | è¯´æ˜                  |
| ------------- | ------- | ------------ | --------------------- |
| reminder_id   | INTEGER | PK, AUTO     | æé†’å”¯ä¸€æ ‡è¯†          |
| habit_id      | INTEGER | FK, NOT NULL | å…³è”ä¹ æƒ¯              |
| reminder_time | TEXT    | NOT NULL     | æé†’æ—¶é—´(HH:mm)       |
| days_of_week  | TEXT    | DEFAULT      | å‘¨å‡ æé†’(1-7é€—å·åˆ†éš”) |
| is_active     | INTEGER | DEFAULT 1    | æ˜¯å¦å¯ç”¨              |

#### 3.2.5 achievements è¡¨ - æˆå°±è¡¨

```sql
CREATE TABLE achievements (
    achievement_id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL DEFAULT 1,
    achievement_type TEXT NOT NULL,
    title TEXT NOT NULL,
    description TEXT,
    badge_icon TEXT NOT NULL,
    unlocked_at INTEGER,
    requirement_value INTEGER,
    FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE CASCADE
);

CREATE INDEX idx_achievements_user_id ON achievements(user_id);
```

| å­—æ®µ              | ç±»å‹    | çº¦æŸ         | è¯´æ˜                  |
| ----------------- | ------- | ------------ | --------------------- |
| achievement_id    | INTEGER | PK, AUTO     | æˆå°±å”¯ä¸€æ ‡è¯†          |
| user_id           | INTEGER | FK, NOT NULL | å…³è”ç”¨æˆ·              |
| achievement_type  | TEXT    | NOT NULL     | æˆå°±ç±»å‹              |
| title             | TEXT    | NOT NULL     | æˆå°±æ ‡é¢˜              |
| description       | TEXT    | NULL         | æˆå°±æè¿°              |
| badge_icon        | TEXT    | NOT NULL     | å¾½ç« å›¾æ ‡              |
| unlocked_at       | INTEGER | NULL         | è§£é”æ—¶é—´(null=æœªè§£é”) |
| requirement_value | INTEGER | NULL         | è¾¾æˆæ¡ä»¶å€¼            |

#### 3.2.6 garden_states è¡¨ - èŠ±å›­çŠ¶æ€è¡¨

```sql
CREATE TABLE garden_states (
    state_id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL DEFAULT 1,
    habit_id INTEGER NOT NULL,
    plant_growth INTEGER DEFAULT 0,
    plant_health INTEGER DEFAULT 100,
    last_watered TEXT,
    stage INTEGER DEFAULT 1,
    FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE CASCADE,
    FOREIGN KEY (habit_id) REFERENCES habits(habit_id) ON DELETE CASCADE
);

CREATE INDEX idx_garden_user_id ON garden_states(user_id);
CREATE INDEX idx_garden_habit_id ON garden_states(habit_id);
```

| å­—æ®µ         | ç±»å‹    | çº¦æŸ         | è¯´æ˜            |
| ------------ | ------- | ------------ | --------------- |
| state_id     | INTEGER | PK, AUTO     | çŠ¶æ€å”¯ä¸€æ ‡è¯†    |
| user_id      | INTEGER | FK, NOT NULL | å…³è”ç”¨æˆ·        |
| habit_id     | INTEGER | FK, NOT NULL | å…³è”ä¹ æƒ¯        |
| plant_growth | INTEGER | DEFAULT 0    | ç”Ÿé•¿è¿›åº¦(0-100) |
| plant_health | INTEGER | DEFAULT 100  | å¥åº·åº¦(0-100)   |
| last_watered | TEXT    | NULL         | æœ€åæµ‡æ°´æ—¥æœŸ    |
| stage        | INTEGER | DEFAULT 1    | ç”Ÿé•¿é˜¶æ®µ(1-5)   |

---

## 4. æ¨¡å—è®¾è®¡

### 4.1 åŒ…ç»“æ„

```
com.habitbloom
â”œâ”€â”€ HabitBloomApplication.java       # Applicationç±»
â”œâ”€â”€ ui/                              # UIå±‚
â”‚   â”œâ”€â”€ splash/                      # å¯åŠ¨é¡µ
â”‚   â”‚   â””â”€â”€ SplashActivity.java
â”‚   â”œâ”€â”€ main/                        # ä¸»é¡µé¢
â”‚   â”‚   â”œâ”€â”€ MainActivity.java
â”‚   â”‚   â””â”€â”€ MainViewModel.java
â”‚   â”œâ”€â”€ garden/                      # èŠ±å›­æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ GardenFragment.java
â”‚   â”‚   â”œâ”€â”€ GardenViewModel.java
â”‚   â”‚   â””â”€â”€ PlantCardAdapter.java
â”‚   â”œâ”€â”€ habit/                       # ä¹ æƒ¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ HabitListFragment.java
â”‚   â”‚   â”œâ”€â”€ HabitDetailActivity.java
â”‚   â”‚   â”œâ”€â”€ CreateHabitActivity.java
â”‚   â”‚   â”œâ”€â”€ HabitViewModel.java
â”‚   â”‚   â””â”€â”€ HabitAdapter.java
â”‚   â”œâ”€â”€ stats/                       # ç»Ÿè®¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ StatsFragment.java
â”‚   â”‚   â”œâ”€â”€ StatsViewModel.java
â”‚   â”‚   â””â”€â”€ AchievementAdapter.java
â”‚   â””â”€â”€ settings/                    # è®¾ç½®æ¨¡å—
â”‚       â”œâ”€â”€ SettingsFragment.java
â”‚       â””â”€â”€ SettingsViewModel.java
â”œâ”€â”€ data/                            # æ•°æ®å±‚
â”‚   â”œâ”€â”€ database/                    # æ•°æ®åº“
â”‚   â”‚   â”œâ”€â”€ AppDatabase.java
â”‚   â”‚   â”œâ”€â”€ entity/                  # å®ä½“ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Habit.java
â”‚   â”‚   â”‚   â”œâ”€â”€ HabitRecord.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Reminder.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Achievement.java
â”‚   â”‚   â”‚   â””â”€â”€ GardenState.java
â”‚   â”‚   â””â”€â”€ dao/                     # æ•°æ®è®¿é—®
â”‚   â”‚       â”œâ”€â”€ UserDao.java
â”‚   â”‚       â”œâ”€â”€ HabitDao.java
â”‚   â”‚       â”œâ”€â”€ HabitRecordDao.java
â”‚   â”‚       â”œâ”€â”€ ReminderDao.java
â”‚   â”‚       â”œâ”€â”€ AchievementDao.java
â”‚   â”‚       â””â”€â”€ GardenStateDao.java
â”‚   â”œâ”€â”€ repository/                  # æ•°æ®ä»“åº“
â”‚   â”‚   â”œâ”€â”€ HabitRepository.java
â”‚   â”‚   â”œâ”€â”€ RecordRepository.java
â”‚   â”‚   â”œâ”€â”€ AchievementRepository.java
â”‚   â”‚   â””â”€â”€ UserRepository.java
â”‚   â””â”€â”€ model/                       # æ•°æ®æ¨¡å‹
â”‚       â”œâ”€â”€ HabitWithRecords.java
â”‚       â””â”€â”€ StatsData.java
â”œâ”€â”€ notification/                    # é€šçŸ¥æ¨¡å—
â”‚   â”œâ”€â”€ ReminderManager.java
â”‚   â”œâ”€â”€ ReminderReceiver.java
â”‚   â””â”€â”€ NotificationHelper.java
â”œâ”€â”€ utils/                           # å·¥å…·ç±»
â”‚   â”œâ”€â”€ DateUtils.java
â”‚   â”œâ”€â”€ PlantUtils.java
â”‚   â”œâ”€â”€ ExportUtils.java
â”‚   â””â”€â”€ Constants.java
â””â”€â”€ widget/                          # è‡ªå®šä¹‰æ§ä»¶
    â”œâ”€â”€ PlantView.java
    â”œâ”€â”€ ProgressCircleView.java
    â””â”€â”€ CalendarView.java
```

### 4.2 æ ¸å¿ƒç±»è®¾è®¡

#### 4.2.1 HabitRepository - ä¹ æƒ¯æ•°æ®ä»“åº“

```java
public class HabitRepository {
    private final HabitDao habitDao;
    private final HabitRecordDao recordDao;
    private final GardenStateDao gardenDao;
    private final ExecutorService executor;

    // è·å–æ‰€æœ‰æ´»è·ƒä¹ æƒ¯
    public LiveData<List<Habit>> getAllActiveHabits();
    
    // åˆ›å»ºä¹ æƒ¯
    public void createHabit(Habit habit, Callback callback);
    
    // æ‰“å¡
    public void checkIn(long habitId, String notes, Callback callback);
    
    // è·å–ä¹ æƒ¯è¯¦æƒ…
    public LiveData<HabitWithRecords> getHabitWithRecords(long habitId);
    
    // æ›´æ–°è¿ç»­å¤©æ•°
    private void updateStreak(long habitId);
    
    // æ›´æ–°æ¤ç‰©çŠ¶æ€
    private void updatePlantGrowth(long habitId, int streak);
}
```

### 4.3 å…³é”®æµç¨‹è®¾è®¡

#### 4.3.1 æ‰“å¡æµç¨‹æ—¶åºå›¾

![PlantUML diagram](D:\Android\androidworkspace\My Application\docs\æ—¶åºå›¾)

---

## 5. å®‰å…¨è®¾è®¡

### 5.1 æ•°æ®å®‰å…¨

- æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ï¼Œä¸ä¸Šä¼ è‡³æœåŠ¡å™¨
- å¯¼å‡ºæ•°æ®ä½¿ç”¨ JSON æ ¼å¼ï¼Œä¾¿äºç”¨æˆ·å¤‡ä»½
- æ•°æ®åº“ä½¿ç”¨ SQLiteï¼Œæ— éœ€é¢å¤–åŠ å¯†

### 5.2 æƒé™è¯´æ˜

| æƒé™                   | ç”¨é€”             |
| ---------------------- | ---------------- |
| RECEIVE_BOOT_COMPLETED | å¼€æœºå¯åŠ¨æé†’æœåŠ¡ |
| SCHEDULE_EXACT_ALARM   | ç²¾ç¡®å®šæ—¶æé†’     |
| POST_NOTIFICATIONS     | å‘é€é€šçŸ¥         |
| WRITE_EXTERNAL_STORAGE | å¯¼å‡ºæ•°æ®æ–‡ä»¶     |
| READ_EXTERNAL_STORAGE  | å¯¼å…¥æ•°æ®æ–‡ä»¶     |
| VIBRATE                | éœ‡åŠ¨åé¦ˆ         |

---

## 6. ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ       | è¯´æ˜     |
| ---- | ---------- | -------- |
| 1.0  | 2026-01-13 | åˆå§‹ç‰ˆæœ¬ |
